- if @tournament.open && !@tournament.started
  .sign_up
    - if @tournament.mode == "individual"
      = form_for @tournament_membership do |f|
        = f.hidden_field :tournament_id, value: @tournament.id
        = f.submit I18n.t('tournaments.enter'), class: 'tournament-sign-up-btn'
    - elsif @tournament.mode == "team"
      - if current_user.try(:team_leaderships).present? && !@tournament.teams.any? { |t| current_user.teams.include? t }
        %h3= "Select Team to Enter:"
        = form_for @tournament_membership do |f|
          = f.hidden_field :tournament_id, value: @tournament.id
          = f.select :team_id, current_user.team_leaderships.map {|team| [team.name, team.id]}
          = f.submit I18n.t('tournaments.enter'), class: 'tournament-sign-up-btn'
      - elsif @tournament.teams.any? { |t| current_user.team_leaderships.include? t }
        = "You already belong to a team signed up for this tournament"
      - else
        = I18n.t('tournaments.team_disclaimer')

